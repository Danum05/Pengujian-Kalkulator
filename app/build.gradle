plugins {
    id 'java'
    id 'application'
    id 'jacoco'
}

repositories {
    mavenCentral()
}

dependencies {
    testImplementation 'org.junit.jupiter:junit-jupiter:5.9.1'
    implementation 'com.google.guava:guava:31.1-jre'
}

application {
    mainClass = 'ppl.Kalkulator'
}

tasks.named('test') {
    useJUnitPlatform()
}

jacocoTestReport {
    dependsOn test
    reports {
        html.destination file("$buildDir/reports/jacoco/html")
    }
}

test {
    reports {
        junitXml {
            enabled true 
            destination file("${buildDir}/test-results") 
        }
    }
}

task runApp(type: JavaExec) {
    main = 'ppl.Kalkulator'
    classpath = sourceSets.main.runtimeClasspath
    standardInput = System.in
    standardOutput = System.out
    errorOutput = System.err
}
